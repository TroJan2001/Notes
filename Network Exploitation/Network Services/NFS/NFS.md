
NFS stands for "Network File System" and allows a system to share directories and files with others over a network. By using NFS, users and programs can access files on remote systems almost as if they were local files. It does this by mounting all, or a portion of a file system on a server. The portion of the file system that is mounted can be accessed by clients with whatever privileges are assigned to each file, Basically NFS works on port 2049.

## How does NFS work?

First, the client will request to mount a directory from a remote host on a local directory just the same way it can mount a physical device. The mount service will then act to connect to the relevant mount daemon using RPC.

The server checks if the user has permission to mount whatever directory has been requested. It will then return a file handle which uniquely identifies each file and directory that is on the server.

If someone wants to access a file using NFS, an RPC call is placed to NFSD (the NFS daemon) on the server. This call takes parameters such as:

-  The file handle
-  The name of the file to be accessed
-  The user's, user ID
-  The user's group ID

In other words, When a filesystem is mounted, it is attached to the Linux file system hierarchy. This means that the files and directories on the mounted filesystem are accessible from any directory in the file system hierarchy.

For example, if you mount a USB drive at the directory /mnt, then you will be able to access the files and directories on the USB drive from any directory in the file system hierarchy. You can do this by simply typing the path to the file or directory, such as /mnt/my_files/my_file.txt.

**Note:** Using the NFS protocol, we can transfer files between computers running Windows and other non-Windows operating systems, such as Linux, MacOS or UNIX.

A computer running Windows Server can act as an NFS file server for other non-Windows client computers. Likewise, NFS allows a Windows-based computer running Windows Server to access files stored on a non-Windows NFS server.

**NFS vs SMB Summary:**

- NFS better for Unix/Linux, while SMB better for Windows.
- NFS requires extra tools to support Apple, but SMB does not.
- NFS runs in Unix/Linux and Windows; SMB needs Samba to do so.
- NFS file locking is mandatory or advisory, but SMB locking is mandatory.
- NFS has no fast file find; SMB has fast find.
- NFS no server and printer browsing, while SMB has server and printer browsing.
- NFS slower reads and writes; SMB faster.
- NFS better with small files, while SMB fine with small files but better with large files.