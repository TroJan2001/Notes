
MySQL is a relational database management system (RDBMS) based on Structured Query Language (SQL). Basically MySQL run on 3306 port.

**How does MySQL work?** 
MySQL, as an RDBMS, is made up of the server and utility programs that help in the administration of MySQL databases.

The server handles all database instructions like creating, editing, and accessing data. It takes and manages these requests and communicates using the MySQL protocol. This whole process can be broken down into these stages:  

1. MySQL creates a database for storing and manipulating data, defining the relationship of each table.
2. Clients make requests by making specific statements in SQL.
3. The server will respond to the client with whatever information has been requested.

# Useful Commands:

In case MySQL isn't already installed on your system, you can install it using:

```bash
sudo apt install default-mysql-client
```

To connect to MySQL server we can use this command:

```bash
mysql -h [IP] -u [username] -p
```

**Note:** the `-p`  switch stand for using password so it will ask u for a password after u give the switch and press enter and it wont ask for a password if u just don't give it assuming no password needed.

# MySQL Exploiting:

First we must have a valid username and password for MySQL login. 

To connect to MySQL server we can use this command:

```bash
mysql -h [IP] -u [username] -p
```

Then we will use the `auxiliary/admin/mysql/mysql_sql` module, by default `sql` option will be set to `select version()`, we might change the `sql` option in the module to `show databases` to get the number of databases present.

**What do we know?**

1. MySQL server credentials  

2. The version of MySQL running

3. The number of Databases, and their names.

Now we use the `auxiliary/scanner/mysql/mysql_schemadump` module which extracts the schema information from a MySQL DB server.

Then we use `auxiliary/scanner/mysql/mysql_hashdump` module which extracts the usernames and encrypted password hashes from a MySQL server and stores them for later cracking.

Finally, we copy the hash string in full, like: bob:HASH to a text file on our local machine called "hash.txt", then we use the John the Ripper `john hash.txt` to crack the password. 

**Note:** use john --show to show already cracked passwords.
# Extra:
 
**Schema:**

 In MySQL, physically, a _schema_ is synonymous with a _database_. You can substitute the keyword "SCHEMA" instead of DATABASE in MySQL SQL syntax, for example using CREATE SCHEMA instead of CREATE DATABASE. It's important to understand this relationship because some other database products draw a distinction. For example, in the Oracle Database product, a _schema_ represents only a part of a database: the tables and other objects owned by a single user.

**Hashes:**  

 Hashes are, very simply, the product of a cryptographic algorithm to turn a variable length input into a fixed length output.

 In MySQL hashes can be used in different ways, for instance to index data into a hash table. Each hash has a unique ID that serves as a pointer to the original data. This creates an index that is significantly smaller than the original data, allowing the values to be searched and accessed more efficiently